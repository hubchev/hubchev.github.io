<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Collection of exercises |  How to Use R for Data Science</title>
  <meta name="description" content="<br />
How to Use R for Data Science</p>" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Collection of exercises |  How to Use R for Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://hubchev.github.io/ds/fig/cover.png" />
  
  <meta name="github-repo" content="hubchev/hubchev.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Collection of exercises |  How to Use R for Data Science" />
  
  
  <meta name="twitter:image" content="https://hubchev.github.io/ds/fig/cover.png" />

<meta name="author" content="© Prof. Dr. Stephan Huber (Stephan.Huber@hs-fresenius.de)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="manage-data.html"/>
<link rel="next" href="write-with-r-markdown.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="preamble.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="fig/cover.png"></a></li>
 <li><a href="./">How to Use R for Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting started with R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#sec:whyR"><i class="fa fa-check"></i><b>1.1</b> Why R?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#howtolearnr"><i class="fa fa-check"></i><b>1.2</b> How to learn R</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#Rlearninglit"><i class="fa fa-check"></i><b>1.3</b> Learning resources</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#r-rstudio"><i class="fa fa-check"></i><b>1.4</b> What are R and RStudio?</a></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#how-to-use-r-and-rstudio-without-installation"><i class="fa fa-check"></i><b>1.5</b> How to use R and RStudio without installation</a></li>
<li class="chapter" data-level="1.6" data-path="getting-started.html"><a href="getting-started.html#installing"><i class="fa fa-check"></i><b>1.6</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.7" data-path="getting-started.html"><a href="getting-started.html#packages"><i class="fa fa-check"></i><b>1.7</b> What are R packages?</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="getting-started.html"><a href="getting-started.html#package-installation"><i class="fa fa-check"></i><b>1.7.1</b> Package installation</a></li>
<li class="chapter" data-level="1.7.2" data-path="getting-started.html"><a href="getting-started.html#package-loading"><i class="fa fa-check"></i><b>1.7.2</b> Package loading</a></li>
<li class="chapter" data-level="1.7.3" data-path="getting-started.html"><a href="getting-started.html#package-management"><i class="fa fa-check"></i><b>1.7.3</b> Simplified package management with <code>p_load</code></a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="getting-started.html"><a href="getting-started.html#what-is-a-function-in-r"><i class="fa fa-check"></i><b>1.8</b> What is a function in R?</a></li>
<li class="chapter" data-level="1.9" data-path="getting-started.html"><a href="getting-started.html#sec:objects"><i class="fa fa-check"></i><b>1.9</b> What are objects in R?</a></li>
<li class="chapter" data-level="1.10" data-path="getting-started.html"><a href="getting-started.html#are-there-some-guidelines-for-working-with-r"><i class="fa fa-check"></i><b>1.10</b> Are there some guidelines for working with R?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="swirl.html"><a href="swirl.html"><i class="fa fa-check"></i><b>2</b> Learn interactively with swirl</a></li>
<li class="chapter" data-level="3" data-path="work-with-r-scripts.html"><a href="work-with-r-scripts.html"><i class="fa fa-check"></i><b>3</b> Work with R scripts</a>
<ul>
<li class="chapter" data-level="3.1" data-path="work-with-r-scripts.html"><a href="work-with-r-scripts.html#r-scripts-why-they-are-useful"><i class="fa fa-check"></i><b>3.1</b> R Scripts: Why they are useful</a></li>
<li class="chapter" data-level="3.2" data-path="work-with-r-scripts.html"><a href="work-with-r-scripts.html#generate-write-and-run-r-scripts"><i class="fa fa-check"></i><b>3.2</b> Generate, write, and run R scripts</a></li>
<li class="chapter" data-level="3.3" data-path="work-with-r-scripts.html"><a href="work-with-r-scripts.html#sec:assignmentoper"><i class="fa fa-check"></i><b>3.3</b> The assignment operator: <code>&lt;-</code></a></li>
<li class="chapter" data-level="3.4" data-path="work-with-r-scripts.html"><a href="work-with-r-scripts.html#doing-calculation-in-scripts"><i class="fa fa-check"></i><b>3.4</b> Doing calculation in scripts</a></li>
<li class="chapter" data-level="3.5" data-path="work-with-r-scripts.html"><a href="work-with-r-scripts.html#sec:generics"><i class="fa fa-check"></i><b>3.5</b> User-defined functions</a></li>
<li class="chapter" data-level="" data-path="work-with-r-scripts.html"><a href="work-with-r-scripts.html#exercise-all-roads-lead-to-rome"><i class="fa fa-check"></i><em>EXERCISE:</em> All roads lead to R(ome)</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualizing-data.html"><a href="visualizing-data.html"><i class="fa fa-check"></i><b>4</b> Visualizing data</a></li>
<li class="chapter" data-level="5" data-path="manage-data.html"><a href="manage-data.html"><i class="fa fa-check"></i><b>5</b> Manage data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="manage-data.html"><a href="manage-data.html#the-tidyverse-universe"><i class="fa fa-check"></i><b>5.1</b> The tidyverse universe</a></li>
<li class="chapter" data-level="5.2" data-path="manage-data.html"><a href="manage-data.html#pipeoperator"><i class="fa fa-check"></i><b>5.2</b> The pipe operator</a></li>
<li class="chapter" data-level="5.3" data-path="manage-data.html"><a href="manage-data.html#import-data"><i class="fa fa-check"></i><b>5.3</b> Import data</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="manage-data.html"><a href="manage-data.html#vectors-and-matrices"><i class="fa fa-check"></i><b>5.3.1</b> Vectors and matrices</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="manage-data.html"><a href="manage-data.html#exercise-import-data"><i class="fa fa-check"></i><em>EXERCISE:</em> Import data</a>
<ul>
<li class="chapter" data-level="5.3.2" data-path="manage-data.html"><a href="manage-data.html#open-rdata-files"><i class="fa fa-check"></i><b>5.3.2</b> Open RData files</a></li>
<li class="chapter" data-level="5.3.3" data-path="manage-data.html"><a href="manage-data.html#open-datasets-of-packages"><i class="fa fa-check"></i><b>5.3.3</b> Open datasets of packages</a></li>
<li class="chapter" data-level="5.3.4" data-path="manage-data.html"><a href="manage-data.html#import-data-using-public-apis"><i class="fa fa-check"></i><b>5.3.4</b> Import data using public APIs</a></li>
<li class="chapter" data-level="5.3.5" data-path="manage-data.html"><a href="manage-data.html#import-various-file-formats"><i class="fa fa-check"></i><b>5.3.5</b> Import various file formats</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="manage-data.html"><a href="manage-data.html#sec:tidy"><i class="fa fa-check"></i><b>5.4</b> Data</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="manage-data.html"><a href="manage-data.html#data-frames-and-tibbles"><i class="fa fa-check"></i><b>5.4.1</b> Data frames and tibbles</a></li>
<li class="chapter" data-level="5.4.2" data-path="manage-data.html"><a href="manage-data.html#tidy-data"><i class="fa fa-check"></i><b>5.4.2</b> Tidy data</a></li>
<li class="chapter" data-level="5.4.3" data-path="manage-data.html"><a href="manage-data.html#data-types"><i class="fa fa-check"></i><b>5.4.3</b> Data types</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="manage-data.html"><a href="manage-data.html#tools-to-manipulate-data"><i class="fa fa-check"></i><b>5.5</b> Tools to manipulate data</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="manage-data.html"><a href="manage-data.html#the-in-operator"><i class="fa fa-check"></i><b>5.5.1</b> The <code>%in%</code> operator</a></li>
<li class="chapter" data-level="5.5.2" data-path="manage-data.html"><a href="manage-data.html#extract-operators"><i class="fa fa-check"></i><b>5.5.2</b> Extract operators</a></li>
<li class="chapter" data-level="5.5.3" data-path="manage-data.html"><a href="manage-data.html#logical-operators"><i class="fa fa-check"></i><b>5.5.3</b> Logical operators</a></li>
<li class="chapter" data-level="5.5.4" data-path="manage-data.html"><a href="manage-data.html#if-statements"><i class="fa fa-check"></i><b>5.5.4</b> If statements</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="manage-data.html"><a href="manage-data.html#ch:dplyr"><i class="fa fa-check"></i><b>5.6</b> Data manipulation with <code>dplyr</code></a></li>
<li class="chapter" data-level="5.7" data-path="manage-data.html"><a href="manage-data.html#how-to-explore-a-dataset"><i class="fa fa-check"></i><b>5.7</b> How to explore a dataset</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html"><i class="fa fa-check"></i><b>6</b> Collection of exercises</a>
<ul>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-generate-and-drop-variables"><i class="fa fa-check"></i><em>EXERCISE:</em> Generate and drop variables</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-base-r-or-pipe"><i class="fa fa-check"></i><em>EXERCISE:</em> Base R or pipe</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-subsetting"><i class="fa fa-check"></i><em>EXERCISE:</em> Subsetting</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-data-transformation"><i class="fa fa-check"></i><em>EXERCISE:</em> Data transformation</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-load-the-stata-dataset-auto-using-r"><i class="fa fa-check"></i><em>EXERCISE:</em> Load the Stata dataset “auto” using R</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-datasaurus"><i class="fa fa-check"></i><em>EXERCISE:</em> DatasauRus</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-convergence"><i class="fa fa-check"></i><em>EXERCISE:</em> Convergence</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-unemployment-and-gdp-in-germany-and-france"><i class="fa fa-check"></i><em>EXERCISE:</em> Unemployment and GDP in Germany and France</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-import-data-and-write-a-report"><i class="fa fa-check"></i><em>EXERCISE:</em> Import data and write a report</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-explain-the-weight"><i class="fa fa-check"></i><em>EXERCISE:</em> Explain the weight</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-calories-and-weight"><i class="fa fa-check"></i><em>EXERCISE:</em> Calories and weight</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-bundesliga"><i class="fa fa-check"></i><em>EXERCISE:</em> Bundesliga</a></li>
<li class="chapter" data-level="" data-path="collection-of-exercises.html"><a href="collection-of-exercises.html#exercise-okuns-law"><i class="fa fa-check"></i><em>EXERCISE:</em> Okun’s Law</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="write-with-r-markdown.html"><a href="write-with-r-markdown.html"><i class="fa fa-check"></i><b>7</b> Write with R Markdown</a>
<ul>
<li class="chapter" data-level="7.1" data-path="write-with-r-markdown.html"><a href="write-with-r-markdown.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="write-with-r-markdown.html"><a href="write-with-r-markdown.html#working-directory-in-r-markdown"><i class="fa fa-check"></i><b>7.2</b> Working directory in R Markdown</a></li>
<li class="chapter" data-level="" data-path="write-with-r-markdown.html"><a href="write-with-r-markdown.html#exercise-start-markdown-and-r-markdown"><i class="fa fa-check"></i><em>EXERCISE:</em> Start Markdown and R Markdown</a></li>
<li class="chapter" data-level="" data-path="write-with-r-markdown.html"><a href="write-with-r-markdown.html#exercise-r-markdown-cite-literature"><i class="fa fa-check"></i><em>EXERCISE:</em> R Markdown cite literature</a></li>
<li class="chapter" data-level="" data-path="write-with-r-markdown.html"><a href="write-with-r-markdown.html#exercise-preparing-apa-journal-articles-papaja"><i class="fa fa-check"></i><em>EXERCISE:</em> Preparing APA journal articles (<code>papaja</code>)</a></li>
<li class="chapter" data-level="" data-path="write-with-r-markdown.html"><a href="write-with-r-markdown.html#exercise-r-markdown-template"><i class="fa fa-check"></i><em>EXERCISE:</em> R Markdown template</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>8</b> Appendix</a>
<ul>
<li class="chapter" data-level="8.1" data-path="appendix.html"><a href="appendix.html#helpful-shortcuts"><i class="fa fa-check"></i><b>8.1</b> Helpful shortcuts</a></li>
<li class="chapter" data-level="8.2" data-path="appendix.html"><a href="appendix.html#sec:navigation"><i class="fa fa-check"></i><b>8.2</b> Navigating the file system</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="appendix.html"><a href="appendix.html#sec:filesystem"><i class="fa fa-check"></i><b>8.2.1</b> The file system</a></li>
<li class="chapter" data-level="8.2.2" data-path="appendix.html"><a href="appendix.html#working-directory"><i class="fa fa-check"></i><b>8.2.2</b> Working directory</a></li>
<li class="chapter" data-level="8.2.3" data-path="appendix.html"><a href="appendix.html#sec:navigationR"><i class="fa fa-check"></i><b>8.2.3</b> Navigating the file system using the R console</a></li>
<li class="chapter" data-level="8.2.4" data-path="appendix.html"><a href="appendix.html#sec:rstudioprojects"><i class="fa fa-check"></i><b>8.2.4</b> R Studio projects</a></li>
<li class="chapter" data-level="8.2.5" data-path="appendix.html"><a href="appendix.html#sec:winbackslash"><i class="fa fa-check"></i><b>8.2.5</b> Why do the Windows paths use the back-slash?</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="appendix.html"><a href="appendix.html#troubleshooting"><i class="fa fa-check"></i><b>8.3</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li>&copy; Prof. Dr. Stephan Huber.</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><p><img src="fig/cover.png" style="width:8cm" /><br />
How to Use R for Data Science</p></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="collection-of-exercises" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Collection of exercises<a href="collection-of-exercises.html#collection-of-exercises" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="exercise-generate-and-drop-variables" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Generate and drop variables<a href="collection-of-exercises.html#exercise-generate-and-drop-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Use the <em>mtcars</em> dataset. It is part of the package <em>datasets</em> and can be called with</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="collection-of-exercises.html#cb182-1" tabindex="-1"></a>mtcars</span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li><p>Create a new tibble called <code>mtcars_new</code> using the pipe operator |&gt;. Generate a new dummy variable called <code>d_cyl_6to8</code> that takes the value 1 if the number of cylinders (cyl) is greater than 6, and 0 otherwise. Do all of this in a single pipe.</p></li>
<li><p>Generate a new dummy variable called <code>posercar</code> that takes a value of 1 if a car has more than 6 cylinders (cyl) and can drive less than 18 miles per gallon (mpg), and 0 otherwise. Add this variable to the tibble <code>mtcars_new</code>.</p></li>
<li><p>Remove the variable <code>d_cyl_6to8</code> from the data frame.</p></li>
</ol>
<p>Please find solutions <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/exe_genanddrop.R">here</a>.</p>
</div>
<div id="exercise-base-r-or-pipe" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Base R or pipe<a href="collection-of-exercises.html#exercise-base-r-or-pipe" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: lower-alpha">
<li>Using the mtcars dataset, write code to create a new dataframe that includes only the rows where the number of cylinders is either 4 or 6, and the weight (wt) is less than 3.5.</li>
</ol>
<p>Do this in two different ways using:</p>
<ol style="list-style-type: decimal">
<li>The <code>%in%</code> operator and the pipe |&gt; .</li>
<li>Base R without the pipe |&gt;.</li>
</ol>
<p>Compare the resulting dataframes using the identical() function.</p>
<ol start="2" style="list-style-type: lower-alpha">
<li>Using the mtcars dataset, generate a logical variable that indicates with <code>TRUE</code> all cars with either 4 or 6 cylinders that wt is less than 3.5 and add this variable to a new dataset.</li>
</ol>
<p>Please find solutions <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/exe_base_pipe.R">here</a>.</p>
</div>
<div id="exercise-subsetting" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Subsetting<a href="collection-of-exercises.html#exercise-subsetting" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Check to see if you have the mtcars dataset by entering the command mtcars.</li>
<li>Save the mtcars dataset in an object named cars.</li>
<li>What class is cars?</li>
<li>How many observations (rows) and variables (columns) are in the mtcars dataset?</li>
<li>Rename mpg in cars to MPG. Use rename().</li>
<li>Convert the column names of cars to all upper case. Use rename_all, and the toupper command.</li>
<li>Convert the rownames of cars to a column called car using rownames_to_column.</li>
<li>Subset the columns from cars that end in “p” and call it pvars using ends_with().</li>
<li>Create a subset cars that only contains the columns: wt, qsec, and hp and assign this object to carsSub. (Use select().)</li>
<li>What are the dimensions of carsSub? (Use dim().)</li>
<li>Convert the column names of carsSub to all upper case. Use rename_all(), and toupper() (or colnames()).</li>
<li>Subset the rows of cars that get more than 20 miles per gallon (mpg) of fuel efficiency. How many are there? (Use filter().)</li>
<li>Subset the rows that get less than 16 miles per gallon (mpg) of fuel efficiency and have more than 100 horsepower (hp). How many are there? (Use filter() and the pipe operator.)</li>
<li>Create a subset of the cars data that only contains the columns: wt, qsec, and hp for cars with 8 cylinders (cyl) and reassign this object to carsSub. What are the dimensions of this dataset? Do not use the pipe operator.</li>
<li>Create a subset of the cars data that only contains the columns: wt, qsec, and hp for cars with 8 cylinders (cyl) and reassign this object to carsSub2. Use the pipe operator.</li>
<li>Re-order the rows of carsSub by weight (wt) in increasing order. (Use arrange().)</li>
<li>Create a new variable in carsSub called wt2, which is equal to wt^2, using mutate() and piping <code>%&gt;%</code>.</li>
</ol>
<p>Please find solutions <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/exe_subset.R">here</a>.</p>
</div>
<div id="exercise-data-transformation" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Data transformation<a href="collection-of-exercises.html#exercise-data-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Please download and open the R-script you find <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/data_transformation.R">here</a> and try to answer the questions therein.</p>
<p>Solutions to the questions are linked in the script.</p>
</div>
<div id="exercise-load-the-stata-dataset-auto-using-r" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Load the Stata dataset “auto” using R<a href="collection-of-exercises.html#exercise-load-the-stata-dataset-auto-using-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p>Create a scatter plot illustrating the relationship between the price and weight of a car. Provide a meaningful title for the graph and try to make it clear which car each observation corresponds to.</p></li>
<li><p>Save this graph in the formats of .png and .pdf.</p></li>
<li><p>Create a variable “`lp100km’” that indicates the fuel consumption of an average car in liters per 100 kilometers. (Note: One gallon is approximately equal to 3.8 liters, and one mile is about 1.6 kilometers.)</p></li>
<li><p>Create a dummy variable “`larger6000’” that is equal to 1 if the price of a car is above $6000.</p></li>
<li><p>Now, search for the “most unreasonable poser car” that costs no more than $6000. A “poser” car is defined as one that is expensive, has a large turning radius, consumes a lot of fuel, and is often defective (rep78 is low). For this purpose, create a metric indicator for each corresponding variable that indicates a value of 1 for the car that is the most unreasonable in that variable and 0 for the most reasonable car. All other cars should fall between 0 and 1.</p></li>
</ol>
<p>Please find the solutions <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/exe_poser.R">here</a>.</p>
</div>
<div id="exercise-datasaurus" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> DatasauRus<a href="collection-of-exercises.html#exercise-datasaurus" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="float">
<img src="fig/datasaurus.png" style="width:25.0%" alt=" The logo of the DatasauRus package" />
<div class="figcaption"> The logo of the DatasauRus package<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></div>
</div>
<ol style="list-style-type: lower-alpha">
<li><p>Load the packages <code>datasauRus</code> and <code>tidyverse</code>. If necessary, install these packages.</p></li>
<li><p>The package<code>datasauRus</code> comes with a dataset in two different formats: <code>datasaurus_dozen</code> and <code>datasaurus_dozen_wide</code>. Store them as <code>ds</code> and <code>ds_wide</code>.</p></li>
<li><p>Open and read the R vignette of the <code>datasauRus</code> package. Also open the R documentation of the dataset <code>datasaurus_dozen</code>.</p></li>
<li><p>Explore the dataset: What are the dimensions of this dataset? Look at the descriptive statistics.</p></li>
<li><p>How many unique values does the variable <code>dataset</code> of the tibble <code>ds</code> have? Hint: The function unique() return the unique values of a variable and the function length() returns the length of a vector, such as the unique elements.</p></li>
<li><p>Compute the mean values of the <code>x</code> and <code>y</code> variables for each entry in <code>dataset</code>. Hint: Use the group_by() function to group the data by the appropriate column and then the summarise() function to calculate the mean.</p></li>
<li><p>Compute the standard deviation, the correlation, and the median in the same way. Round the numbers.</p></li>
<li><p>What can you conclude?</p></li>
<li><p>Plot all datasets of <code>ds</code>. Hide the legend. Hint: Use the <code>facet_wrap()</code> and the <code>theme()</code> function.</p></li>
<li><p>Create a loop that generates separate scatter plots for each unique datatset of the tibble <code>ds</code>. Export each graph as a png file.</p></li>
<li><p>Watch the video <a href="https://youtu.be/T-kxUB29t0o">Animating the Datasaurus Dozen Dataset in R</a> from The Data Digest on YouTube.</p></li>
</ol>
<p>Please find the solutions <a href="https://htmlpreview.github.io/?https://raw.githubusercontent.com/hubchev/hubchev.github.io/main/various/datasaurus_solution.html">here</a>.</p>
</div>
<div id="exercise-convergence" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Convergence<a href="collection-of-exercises.html#exercise-convergence" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The dataset convergence.dta, see <a href="https://github.com/hubchev/courses/blob/main/dta/convergence.dta" class="uri">https://github.com/hubchev/courses/blob/main/dta/convergence.dta</a>, contains the per capita GDP of 1960 (gdppc60) and the average growth rate of GDP per capita between 1960 and 1995 (growth) for different countries (country), as well as 3 dummy variables indicating the belonging of a country to the region Asia (asia), Western Europe (weurope) or Africa (africa).</p>
<ul>
<li>Some countries are not assigned to a certain country group. Name the countries which are assign to be part of Western Europe, Africa or Asia. If you find countries that are members of the EU, assign them a ‘1’ in the variable weurope.</li>
<li>Create a table that shows the average GDP per capita for all available points in time. Group by Western European, Asian, African, and the remaining countries.</li>
<li>Create the growth rate of GDP per capita from 1960 to 1995 and call it gdpgrowth. (Note: The log value X minus the log value X of the previous period is approximately equal to the growth rate).</li>
<li>Calculate the unconditional convergence of all countries by constructing a graph in which a scatterplot shows the GDP per capita growth rate between 1960 and 1995 (gdpgrowth) on the y-axis and the 1960 GDP per capita (gdppc60) on the x-axis. Add to the same graph the estimated linear relationship. You do not need to label the graph further, just two things: title the graph <code>world</code> and label the individual observations with the country names.</li>
<li>Create three graphs describing the same relationship for the sample of Western European, African and Asian countries. Title the graph accordingly with <code>weurope</code>, <code>africa</code> and <code>asia</code>.</li>
<li>Combine the four graphs into one image. Discuss how an upward or downward sloping regression line can be interpreted.</li>
<li>Estimate the relationships illustrated in the 4 graphs using the least squares method. Present the 4 estimation results in a table, indicating the significance level with stars. In addition, the Akaike information criterion, and the number of observations should be displayed in the table. Interpret the four estimation results regarding their significance.</li>
<li>Put the data set into the so-called long format and calculate the GDP per capita growth rates for the available time points in the countries.</li>
</ul>
<p>Please find solutions <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/convergence.R">here</a>.</p>
</div>
<div id="exercise-unemployment-and-gdp-in-germany-and-france" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Unemployment and GDP in Germany and France<a href="collection-of-exercises.html#exercise-unemployment-and-gdp-in-germany-and-france" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The following exercise was a former exam.</p>
<p>Please answer all (!) questions in an R script. Normal text should be written as comments, using the ‘#’ to comment out text. Make sure the script runs without errors before submitting it. Each task (starting with 1) is worth five points. You have a total of 120 minutes of editing time. Please do not forget to number your answers.</p>
<p>When you are done with your work, save the R script, export the script to pdf format and upload the pdf file.</p>
<p>Suppose you aim to empirically examine unemployment and GDP for Germany and France. The data set that we use in the following is ‘forest.Rdata’.</p>
<ol start="0" style="list-style-type: decimal">
<li><p>Write down your name, matriculation number, and date.</p></li>
<li><p>Set your working directory.</p></li>
<li><p>Clear your global environment.</p></li>
<li><p>Install and load the following packages: ‘tidyverse’, ‘sjPlot’, and ‘ggpubr’</p></li>
<li><p>Download and load the data, respectively, with the following code:</p></li>
</ol>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="collection-of-exercises.html#cb183-1" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="st">&quot;https://github.com/hubchev/courses/raw/main/dta/forest.Rdata&quot;</span>))</span></code></pre></div>
<p>If that is not working, you can also download the data from ILIAS, save it in
your working directory and load it from there with:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="collection-of-exercises.html#cb184-1" tabindex="-1"></a><span class="co"># load(&quot;forest.Rdata&quot;)</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li><p>Show the <strong>first eight</strong> observations of the dataset ‘df’.</p></li>
<li><p>Show the <strong>last observation</strong> of the dataset ‘df’.</p></li>
<li><p>Which type of data do we have here (Panel, cross-section,time series, …)?
Name the variable(s) that are necessary to identify the observations in the dataset.</p></li>
<li><p>Explain what the <strong>assignment operator</strong> in R is and what it is good for.</p></li>
<li><p>Write down the R code to store the number of observations and the number of variables
that are in the dataset ‘df’. Name the object in which you store these numbers ‘observations_df’.</p></li>
<li><p>In the dataset ‘df’, rename the variable ‘country.x’ to ‘nation’ and the variable ‘date’ to ‘year’.</p></li>
<li><p>Explain what the <strong>pipe operator</strong> in R is and what it is good for.</p></li>
<li><p>For the upcoming analysis you are only interested the following <strong>variables</strong> that are part of the dataframe ‘df’: nation, year, gdp, pop, gdppc, and unemployment. Drop all other variables from the dataframe ‘df’.</p></li>
<li><p>Create a variable that indicates the GDP per capita (‘gdp’ divided by ‘pop’).
Name the variable ‘gdp_pc’. (Hint: If you fail here, use the variable ‘gdppc’ which is
already in the dataset as a replacement for ‘gdp_pc’ in the following tasks.)</p></li>
<li><p>For the upcoming analysis you are only interested the following <strong>countries</strong>
that are part of the dataframe ‘df’: Germany and France. Drop all other
countries from the dataframe ‘df’.</p></li>
<li><p>Create a table showing the <strong>average</strong> unemployment rate and GDP per capita for Germany
and France in the given years. Use the pipe operator. (Hint: See below for how your results should
look like.)</p></li>
</ol>
<pre><code>## # A tibble: 2 × 3
##   nation  `mean(unemployment)` `mean(gdppc)`
##   &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
## 1 France                  9.75        34356.
## 2 Germany                 7.22        36739.</code></pre>
<ol start="16" style="list-style-type: decimal">
<li>Create a table showing the unemployment rate and GDP per capita for Germany
and France in the <strong>year 2020</strong>. Use the pipe operator. (Hint: See below for how your results should
look like.)</li>
</ol>
<pre><code>## # A tibble: 2 × 3
##   nation  `mean(unemployment)` `mean(gdppc)`
##   &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
## 1 France                  8.01        35786.
## 2 Germany                 3.81        41315.</code></pre>
<ol start="17" style="list-style-type: decimal">
<li>Create a table showing the <strong>highest</strong> unemployment rate and the <strong>highest</strong>
GDP per capita for Germany and France during the given period.
Use the pipe operator. (Hint: See below for how your results should look like.)</li>
</ol>
<pre><code>## # A tibble: 2 × 3
##   nation  `max(unemployment)` `max(gdppc)`
##   &lt;chr&gt;                 &lt;dbl&gt;        &lt;dbl&gt;
## 1 France                 12.6       38912.
## 2 Germany                11.2       43329.</code></pre>
<ol start="18" style="list-style-type: decimal">
<li>Calculate the standard deviation of the unemployment rate and GDP per capita for Germany
and France in the given years. (Hint: See below for how your result should
look like.)</li>
</ol>
<pre><code>## # A tibble: 2 × 3
##   nation  `sd(gdppc)` `sd(unemployment)`
##   &lt;chr&gt;         &lt;dbl&gt;              &lt;dbl&gt;
## 1 France        2940.               1.58
## 2 Germany       4015.               2.37</code></pre>
<ol start="19" style="list-style-type: decimal">
<li>In statistics, the coefficient of variation (COV) is a standardized measure of
dispersion. It is defined as the ratio of the standard deviation (<span class="math inline">\(\sigma\)</span>) to the mean (<span class="math inline">\(\mu\)</span>):
<span class="math inline">\(COV={\frac {\sigma }{\mu }}\)</span>.
Write down the R code to calculate the coefficient of variation (COV) for the
<strong>unemployment rate</strong> in Germany and France. (Hint: See below for what your result should should look like.)</li>
</ol>
<pre><code>## # A tibble: 2 × 4
##   nation  `sd(unemployment)` `mean(unemployment)`   cov
##   &lt;chr&gt;                &lt;dbl&gt;                &lt;dbl&gt; &lt;dbl&gt;
## 1 France                1.58                 9.75 0.162
## 2 Germany               2.37                 7.22 0.328</code></pre>
<ol start="20" style="list-style-type: decimal">
<li>Write down the R code to calculate the coefficient of variation (COV) for the <strong>GDP per capita</strong>
in Germany and France. (Hint: See below for what your result should look like.)</li>
</ol>
<pre><code>## # A tibble: 2 × 4
##   nation  `sd(gdppc)` `mean(gdppc)`    cov
##   &lt;chr&gt;         &lt;dbl&gt;         &lt;dbl&gt;  &lt;dbl&gt;
## 1 France        2940.        34356. 0.0856
## 2 Germany       4015.        36739. 0.109</code></pre>
<ol start="21" style="list-style-type: decimal">
<li>Create a chart (bar chart, line chart, or scatter plot) that shows the
unemployment rate of <strong>Germany</strong> over the available years. Label the chart
‘Germany’ with ‘ggtitle(“Germany”)’. Please note that you may choose any type of graphical representation.
(Hint: Below you can see one of many |&gt; of what your result may look like).</li>
</ol>
<p><img src="_main_files/figure-html/unnamed-chunk-89-1.png" width="672" /></p>
<ol start="22" style="list-style-type: decimal">
<li>and 23. <em>(This task is worth 10 points)</em>
The following chart shows the simultaneous development of the unemployment rate and GDP per capita over time for <strong>France</strong>.</li>
</ol>
<p><img src="_main_files/figure-html/unnamed-chunk-90-1.png" width="672" /></p>
<p>Suppose you want to visualize the simultaneous evolution of the unemployment rate and GDP per capita over time for Germany as well.<br />
Suppose further that you have found the following lines of code that create the kind of chart you are looking for.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="collection-of-exercises.html#cb191-1" tabindex="-1"></a><span class="co"># Data</span></span>
<span id="cb191-2"><a href="collection-of-exercises.html#cb191-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</span>
<span id="cb191-3"><a href="collection-of-exercises.html#cb191-3" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">16</span>, <span class="dv">14</span>, <span class="dv">18</span>, <span class="dv">16</span>, <span class="dv">13</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">22</span>)</span>
<span id="cb191-4"><a href="collection-of-exercises.html#cb191-4" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="dv">1970</span><span class="sc">:</span><span class="dv">1978</span></span>
<span id="cb191-5"><a href="collection-of-exercises.html#cb191-5" tabindex="-1"></a></span>
<span id="cb191-6"><a href="collection-of-exercises.html#cb191-6" tabindex="-1"></a><span class="co"># Connected scatter plot with text</span></span>
<span id="cb191-7"><a href="collection-of-exercises.html#cb191-7" tabindex="-1"></a><span class="fu">plot</span>(x, y, <span class="at">type =</span> <span class="st">&quot;b&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Var 1&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Var 2&quot;</span>); <span class="fu">text</span>(x <span class="sc">+</span> <span class="fl">0.4</span>, y <span class="sc">+</span> <span class="fl">0.1</span>, labels) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-91-1.png" width="672" /></p>
<p>Use these lines of code and customize them to create the co-movement visualization for <strong>Germany</strong> using the available ‘df’ data.
The result should look something like this:</p>
<p><img src="_main_files/figure-html/unnamed-chunk-92-1.png" width="672" /></p>
<ol start="24" style="list-style-type: decimal">
<li>Interpret the two graphs above, which show the simultaneous evolution of the unemployment rate and GDP per capita over time for Germany and France. What are your expectations regarding the correlation between the unemployment rate and GDP per capita variables? Can you see this expectation in the figures? Discuss.</li>
</ol>
<p>Please find solutions <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/un_gdp_ger_fra.R">here</a>.</p>
</div>
<div id="exercise-import-data-and-write-a-report" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Import data and write a report<a href="collection-of-exercises.html#exercise-import-data-and-write-a-report" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Reproduce Figure 3 of <span class="citation">Hortaçsu &amp; Syverson (<a href="references.html#ref-Hortacsu2015Ongoing">2015, p. 99</a>)</span> using R. Write a clear report about your work, i.e., document everything with a R script or a R Markdown file.</p>
<p>Here are the required steps:</p>
<ol style="list-style-type: decimal">
<li>Go to <a href="https://www.aeaweb.org/articles?id=10.1257/jep.29.4.89">https://www.aeaweb.org/articles?id=10.1257/jep.29.4.89</a> and download the <em>replication package</em> from the <em>OPENICPSR</em> page. Please note, that you can download the replication package after you have registered for the platform.</li>
<li>Unzip the replication package.</li>
<li>In the file <em>diffusion_curves_figure.xlsx</em> you find the required data. Import them to R.</li>
<li>Reproduce the plot using ggplot().</li>
</ol>
<p>Please find solutions <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/hortacsu_figure_3.R">here</a>.</p>
</div>
<div id="exercise-explain-the-weight" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Explain the weight<a href="collection-of-exercises.html#exercise-explain-the-weight" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the statistic course of WS 2020, I asked 23 students about their weight, height, sex, and number of siblings. I wonder how good the height can explain the weight of students. Examine with corelations and a regression analysis the association. Load the data as follows:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="collection-of-exercises.html#cb192-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;haven&quot;</span>)</span>
<span id="cb192-2"><a href="collection-of-exercises.html#cb192-2" tabindex="-1"></a>classdata <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/hubchev/courses/main/dta/classdata.csv&quot;</span>)</span></code></pre></div>
<p>A sketch of a solution is provided <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/regress_lecture.R">here</a>.</p>
</div>
<div id="exercise-calories-and-weight" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Calories and weight<a href="collection-of-exercises.html#exercise-calories-and-weight" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: lower-alpha">
<li>Write down your name, your matriculation number, and the date.</li>
<li>Set your working directory.</li>
<li>Clear your global environment.</li>
<li>Load the following package: <code>tidyverse</code></li>
</ol>
<p>The following table stems from a survey carried out at the Campus of the German Sport University of Cologne at Opening Day (first day of the new semester) between 8:00am and 8:20am. The survey consists of 6 individuals with the following information:</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>sex</th>
<th>age</th>
<th>weight</th>
<th>calories</th>
<th>sport</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>f</td>
<td>21</td>
<td>48</td>
<td>1700</td>
<td>60</td>
</tr>
<tr class="even">
<td>2</td>
<td>f</td>
<td>19</td>
<td>55</td>
<td>1800</td>
<td>120</td>
</tr>
<tr class="odd">
<td>3</td>
<td>f</td>
<td>23</td>
<td>50</td>
<td>2300</td>
<td>180</td>
</tr>
<tr class="even">
<td>4</td>
<td>m</td>
<td>18</td>
<td>71</td>
<td>2000</td>
<td>60</td>
</tr>
<tr class="odd">
<td>5</td>
<td>m</td>
<td>20</td>
<td>77</td>
<td>2800</td>
<td>240</td>
</tr>
<tr class="even">
<td>6</td>
<td>m</td>
<td>61</td>
<td>85</td>
<td>2500</td>
<td>30</td>
</tr>
</tbody>
</table>
<p>Data Description:</p>
<ul>
<li><strong>id:</strong> Variable with an anonymized identifier for each participant.</li>
<li><strong>sex:</strong> Gender, i.e., the participants replied to be either male (m) or female (f).</li>
<li><strong>age:</strong> The age in years of the participants at the time of the survey.</li>
<li><strong>weight:</strong> Number of kg the participants pretended to weight.</li>
<li><strong>calories:</strong> Estimate of the participants on their average daily consumption of calories.</li>
<li><strong>sport:</strong> Estimate of the participants on their average daily time that they spend on doing sports (measured in minutes).</li>
</ul>
<ol start="5" style="list-style-type: lower-alpha">
<li>Which type of data do we have here? (Panel data, repeated cross-sectional data, cross-sectional data, time Series data)</li>
<li>Store each of the five variables in a vector and put all five variables into a dataframe with the title <code>df</code>. If you fail here, read in the data using this line of code:</li>
</ol>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="collection-of-exercises.html#cb193-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/hubchev/courses/main/dta/df-calories.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 6 Columns: 5
## ── Column specification ───────────────────────────────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (1): sex
## dbl (4): age, weight, calories, sport
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<ol start="7" style="list-style-type: lower-alpha">
<li><p>Show for all numerical variables the summary statistics including the mean, median, minimum, and the maximum.</p></li>
<li><p>Show for all numerical variables the summary statistics including the mean and the standard deviation, <strong>separated by male and female</strong>. Use therefore the pipe operator.</p></li>
<li><p>Suppose you want to analyze the general impact of average calories consumption per day on the weight. Discuss if the sample design is appropriate to draw conclusions on the population. What may cause some bias in the data? Discuss possibilities to improve the sampling and the survey, respectively.</p></li>
<li><p>The following plot visualizes the two variables weight and calories. Discuss what can be improved in the graphical visualization.</p></li>
</ol>
<div class="float">
<img src="/home/sthu/Dropbox/hsf/exams/21-04/stuff/sport-r" style="width:40.0%" alt="Weight vs. Calories" />
<div class="figcaption">Weight vs. Calories</div>
</div>
<ol start="11" style="list-style-type: lower-alpha">
<li><p>Make a scatterplot matrix containing all numerical variables.</p></li>
<li><p>Calculate the Pearson Correlation Coefficient of the two variables</p>
<ol style="list-style-type: decimal">
<li><code>calories</code> and <code>sport</code></li>
<li><code>weight</code> and <code>calories</code></li>
</ol></li>
<li><p>Make a scatterplot with <code>weight</code> in the y-axis and <code>calories</code> on the x-axis. Additionally, the plot should contain a linear fit and the points should be labeled with the <code>sex</code> just like in the figure shown above.</p></li>
<li><p>Estimate the following regression specification using the OLS method:
<span class="math display">\[weight_i=\beta_0+\beta_1 calories_i+ \epsilon_i\]</span></p></li>
</ol>
<p>Show a summary of the estimates that look like the following:</p>
<pre><code>## 
## Call:
## lm(formula = weight ~ calories, data = df)
## 
## Residuals:
##      1      2      3      4      5      6 
## -5.490 -1.182 -6.640  9.435 -6.099  9.976 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)  
## (Intercept)  7.730275  20.197867   0.383   0.7214  
## calories     0.026917   0.009107   2.956   0.0417 *
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 8.68 on 4 degrees of freedom
## Multiple R-squared:  0.6859, Adjusted R-squared:  0.6074 
## F-statistic: 8.735 on 1 and 4 DF,  p-value: 0.04174</code></pre>
<ol start="15" style="list-style-type: lower-alpha">
<li><p>Interpret the results. In particular, interpret how many kg the estimated weight increases—on average and ceteris paribus—if calories increase by 100 calories. Additionally, discuss the statistical properties of the estimated coefficient <span class="math inline">\(\hat{\beta_1}\)</span> and the meaning of the <strong>Adjusted R-squared</strong>.</p></li>
<li><p>OLS estimates can suffer from omitted variable bias. State the two conditions that need to be fulfilled for omitted bias to occur.</p></li>
<li><p>Discuss potential confounding variables that may cause omitted variable bias. Given the dataset above how can some of the confounding variables be <em>controlled for</em>?</p></li>
</ol>
<p>Solutions are provided <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/exe_calories.R">here</a>.</p>
</div>
<div id="exercise-bundesliga" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Bundesliga<a href="collection-of-exercises.html#exercise-bundesliga" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Open the script that you find <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/dfb.R">here</a> and work on the following tasks:</p>
<ol style="list-style-type: decimal">
<li><p>Set your working directory.</p></li>
<li><p>Clear th environment.</p></li>
<li><p>Install and load the <code>bundesligR</code> and <code>tidyverse</code>.</p></li>
<li><p>Read in the data <code>bundesligR</code> as a tibble.</p></li>
<li><p>Replace “Bor. Moenchengladbach” with “Borussia Moenchengladbach.”</p></li>
<li><p>Check for the data class.</p></li>
<li><p>View the data.</p></li>
<li><p>Glimpse on the data.</p></li>
<li><p>Show the first and last observations.</p></li>
<li><p>Show summary statistics to all variables.</p></li>
<li><p>How many teams have played in the league over the years?</p></li>
<li><p>Which teams have played Bundesliga so far?</p></li>
<li><p>How many teams have played Bundesliga?</p></li>
<li><p>How often has each team played in the Bundesliga?</p></li>
<li><p>Show summary statistics of variable <code>Season</code> only.</p></li>
<li><p>Show summary statistics of all numeric variables (<code>Team</code> is a character).</p></li>
<li><p>What is the highest number of points ever received by a team? Show only the name of the club with the highest number of points ever received.</p></li>
<li><p>Create a new tibble using <code>liga</code> removing the variable <code>Pts_pre_95</code> from the data.</p></li>
<li><p>Create a new tibble using <code>liga</code> renaming W, D, and L to Win, Draw, and Loss. Additionally rename GF, GA, GD to Goals_shot, Goals_received, Goal_difference.</p></li>
<li><p>Create a new tibble using <code>liga</code> without the variable <code>Pts_pre_95</code> and only observations before the year 1996.</p></li>
<li><p>Remove the three tibbles just created from the environment.</p></li>
<li><p>Rename all variables of <code>liga</code> to lowercase and store it as <code>dfb</code>.</p></li>
<li><p>Show the winner and the runner up after the year 2010. Additionally show the points received.</p></li>
<li><p>Create a variable that counts how often a team was ranked first.</p></li>
<li><p>How often has each team played in the Bundesliga?</p></li>
<li><p>Make a ranking that shows which team has played the Bundesliga most often.</p></li>
<li><p>Add a variable to <code>dfb</code> that contains the number of appearances of a team in the league.</p></li>
<li><p>Create a number that indicates how often a team has played Bundesliga in a given year.</p></li>
<li><p>Make a ranking with the number of titles of all teams that ever won the league.</p></li>
<li><p>Create a numeric identifying variable for each team.</p></li>
<li><p>When a team is in the league, what is the probability that it wins the league?</p></li>
<li><p>Make a scatterplot with points on the y-axis and position on the x-axis.</p></li>
<li><p>Make a scatterplot with points on the y-axis and position on the x-axis. Additionally, only consider seasons with 18 teams and add lines that make clear how many points you needed to be placed in between rank 2 and 15.</p></li>
<li><p>Remove all objects from the environment except <code>dfb</code> and <code>liga</code>.</p></li>
<li><p>In Figure <a href="collection-of-exercises.html#fig:fckpic">6.2</a>, the ranking history of <em>1. FC Kaiserslautern</em> is shown. Replicate that plot.</p></li>
</ol>
<div class="figure"><span style="display:block;" id="fig:fckpic"></span>
<img src="_main_files/figure-html/fckpic-1.png" alt="Ranking history: 1. FC Kaiserslautern" width="672" />
<p class="caption">
Figure 6.2: Ranking history: 1. FC Kaiserslautern
</p>
</div>
<ol start="34" style="list-style-type: decimal">
<li>In Figure <a href="collection-of-exercises.html#fig:efzplot">6.3</a>, I made the graph a bit nicer. Can you spot all differences and can you guess what the dashed line and the triangles mean? How could the visualization be improved further? Replicate the plot.</li>
</ol>
<div class="figure"><span style="display:block;" id="fig:efzplot"></span>
<img src="_main_files/figure-html/efzplot-1.png" alt="Ranking history: 1. FC Köln" width="672" />
<p class="caption">
Figure 6.3: Ranking history: 1. FC Köln
</p>
</div>
<ol start="35" style="list-style-type: decimal">
<li>Try to make the ranking history for each club ever played the league and export the graph as a <code>png</code> file.</li>
</ol>
<p>Solutions are provided <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/bundesliga.R">here</a>.</p>
</div>
<div id="exercise-okuns-law" class="section level2 unnumbered hasAnchor">
<h2><em>EXERCISE:</em> Okun’s Law<a href="collection-of-exercises.html#exercise-okuns-law" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>Suppose you aim to empirically examine unemployment and GDP for Germany and France.
The data set that we use in the following is ‘forest.Rdata’ and should already
been known to you from the lecture.</em></p>
<ol start="0" style="list-style-type: decimal">
<li><p>Write down your name, matriculation number, and date.</p></li>
<li><p>Set your working directory.</p></li>
<li><p>Clear your global environment.</p></li>
<li><p>Install and load the following packages: ‘tidyverse’, ‘sjPlot’, and ‘ggpubr’</p></li>
<li><p>Download and load the data, respectively, with the following code:</p></li>
</ol>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="collection-of-exercises.html#cb196-1" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="st">&quot;https://github.com/hubchev/courses/raw/main/dta/forest.Rdata&quot;</span>))</span></code></pre></div>
<p>If that is not working, you can also download the data from ILIAS, save it in
your working directory and load it from there with:</p>
<pre><code>load(&quot;forest.Rdata&quot;)</code></pre>
<ol start="5" style="list-style-type: decimal">
<li><p>Show the <strong>first eight</strong> observations of the dataset ‘df’.</p></li>
<li><p>Show the <strong>last observation</strong> of the dataset ‘df’.</p></li>
<li><p>Which type of data do we have here (Panel, cross-section,time series, …)?
Name the variable(s) that are necessary to identify the observations in the dataset.</p></li>
<li><p>Explain what the <strong>assignment operator</strong> in R is and what it is good for.</p></li>
<li><p>Write down the R code to store the number of observations and the number of variables
that are in the dataset ‘df’. Name the object in which you store these numbers ‘observations_df’.</p></li>
<li><p>In the dataset ‘df’, rename the variable ‘country.x’ to ‘nation’ and the
variable ‘date’ to ‘year’.</p></li>
<li><p>Explain what the <strong>pipe operator</strong> in R is and what it is good for.</p></li>
<li><p>For the upcoming analysis you are only interested the following <strong>variables</strong>
that are part of the dataframe ‘df’: nation, year, gdp, pop, gdppc,
and unemployment. Drop all other variables from the dataframe ‘df’.</p></li>
<li><p>Create a variable that indicates the GDP per capita (‘gdp’ divided by ‘pop’).
Name the variable ‘gdp_pc’. (Hint: If you fail here, use the variable ‘gdppc’ which is
already in the dataset as a replacement for ‘gdp_pc’ in the following tasks.)</p></li>
<li><p>For the upcoming analysis you are only interested the following <strong>countries</strong>
that are part of the dataframe ‘df’: Germany and France. Drop all other
countries from the dataframe ‘df’.</p></li>
<li><p>Create a table showing the <strong>average</strong> unemployment rate and GDP per capita for Germany
and France in the given years. Use the pipe operator. (Hint: See below for how your results should
look like.)</p></li>
</ol>
<pre><code>## # A tibble: 2 × 3
##   nation  `mean(unemployment)` `mean(gdppc)`
##   &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
## 1 France                  9.75        34356.
## 2 Germany                 7.22        36739.</code></pre>
<ol start="16" style="list-style-type: decimal">
<li>Create a table showing the unemployment rate and GDP per capita for Germany
and France in the <strong>year 2020</strong>. Use the pipe operator. (Hint: See below for how your results should
look like.)</li>
</ol>
<pre><code>## # A tibble: 2 × 3
##   nation  `mean(unemployment)` `mean(gdppc)`
##   &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
## 1 France                  8.01        35786.
## 2 Germany                 3.81        41315.</code></pre>
<ol start="17" style="list-style-type: decimal">
<li>Create a table showing the <strong>highest</strong> unemployment rate and the <strong>highest</strong>
GDP per capita for Germany and France during the given period.
Use the pipe operator. (Hint: See below for how your results should look like.)</li>
</ol>
<pre><code>## # A tibble: 2 × 3
##   nation  `max(unemployment)` `max(gdppc)`
##   &lt;chr&gt;                 &lt;dbl&gt;        &lt;dbl&gt;
## 1 France                 12.6       38912.
## 2 Germany                11.2       43329.</code></pre>
<ol start="18" style="list-style-type: decimal">
<li>Calculate the standard deviation of the unemployment rate and GDP per capita for Germany
and France in the given years. (Hint: See below for how your result should
look like.)</li>
</ol>
<pre><code>## # A tibble: 2 × 3
##   nation  `sd(gdppc)` `sd(unemployment)`
##   &lt;chr&gt;         &lt;dbl&gt;              &lt;dbl&gt;
## 1 France        2940.               1.58
## 2 Germany       4015.               2.37</code></pre>
<ol start="19" style="list-style-type: decimal">
<li>In statistics, the coefficient of variation (COV) is a standardized measure of
dispersion. It is defined as the ratio of the standard deviation (<span class="math inline">\(\sigma\)</span>) to the mean (<span class="math inline">\(\mu\)</span>):
<span class="math inline">\(COV={\frac {\sigma }{\mu }}\)</span>.
Write down the R code to calculate the coefficient of variation (COV) for the
<strong>unemployment rate</strong> in Germany and France. (Hint: See below for what your result should should look like.)</li>
</ol>
<pre><code>## # A tibble: 2 × 4
##   nation  `sd(unemployment)` `mean(unemployment)`   cov
##   &lt;chr&gt;                &lt;dbl&gt;                &lt;dbl&gt; &lt;dbl&gt;
## 1 France                1.58                 9.75 0.162
## 2 Germany               2.37                 7.22 0.328</code></pre>
<ol start="20" style="list-style-type: decimal">
<li>Write down the R code to calculate the coefficient of variation (COV) for the <strong>GDP per capita</strong>
in Germany and France. (Hint: See below for what your result should should look like.)</li>
</ol>
<p>look like.)</p>
<pre><code>## # A tibble: 2 × 4
##   nation  `sd(gdppc)` `mean(gdppc)`    cov
##   &lt;chr&gt;         &lt;dbl&gt;         &lt;dbl&gt;  &lt;dbl&gt;
## 1 France        2940.        34356. 0.0856
## 2 Germany       4015.        36739. 0.109</code></pre>
<ol start="21" style="list-style-type: decimal">
<li>Create a chart (bar chart, line chart, or scatter plot) that shows the
unemployment rate of <strong>Germany</strong> over the available years. Label the chart
‘Germany’ with ‘ggtitle(“Germany”)’. Please note that you may choose any type of graphical representation.
(Hint: Below you can see one of many possible examples of what your result may look like).</li>
</ol>
<p><img src="_main_files/figure-html/unnamed-chunk-117-1.png" width="672" /></p>
<ol start="22" style="list-style-type: decimal">
<li>and 23. <em>(This task is worth 10 points)</em>
The following chart shows the simultaneous development of the unemployment rate and GDP per capita over time for <strong>France</strong>.</li>
</ol>
<p><img src="_main_files/figure-html/unnamed-chunk-118-1.png" width="672" /></p>
<p>Suppose you want to visualize the simultaneous evolution of the unemployment rate and GDP per capita over time for Germany as well.<br />
Suppose further that you have found the following lines of code that create the kind of chart you are looking for.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="collection-of-exercises.html#cb204-1" tabindex="-1"></a><span class="co"># Data</span></span>
<span id="cb204-2"><a href="collection-of-exercises.html#cb204-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</span>
<span id="cb204-3"><a href="collection-of-exercises.html#cb204-3" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">16</span>, <span class="dv">14</span>, <span class="dv">18</span>, <span class="dv">16</span>, <span class="dv">13</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">22</span>)</span>
<span id="cb204-4"><a href="collection-of-exercises.html#cb204-4" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="dv">1970</span><span class="sc">:</span><span class="dv">1978</span></span>
<span id="cb204-5"><a href="collection-of-exercises.html#cb204-5" tabindex="-1"></a></span>
<span id="cb204-6"><a href="collection-of-exercises.html#cb204-6" tabindex="-1"></a><span class="co"># Connected scatter plot with text</span></span>
<span id="cb204-7"><a href="collection-of-exercises.html#cb204-7" tabindex="-1"></a><span class="fu">plot</span>(x, y, <span class="at">type =</span> <span class="st">&quot;b&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Var 1&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Var 2&quot;</span>); <span class="fu">text</span>(x <span class="sc">+</span> <span class="fl">0.4</span>, y <span class="sc">+</span> <span class="fl">0.1</span>, labels) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-119-1.png" width="672" /></p>
<p>Use these lines of code and customize them to create the co-movement visualization for <strong>Germany</strong> using the available ‘df’ data.
The result should look something like this:</p>
<p><img src="_main_files/figure-html/unnamed-chunk-120-1.png" width="672" /></p>
<ol start="24" style="list-style-type: decimal">
<li>Interpret the two graphs above, which show the simultaneous evolution of the unemployment rate and GDP per capita over time for Germany and France. What are your expectations regarding the correlation between the unemployment rate and GDP per capita variables? Can you see this expectation in the figures? Discuss.</li>
</ol>
<p>Solutions are provided <a href="https://raw.githubusercontent.com/hubchev/courses/main/scr/exe_okun_solution.R">here</a>.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p>Figure is taken from <a href="https://github.com/jumpingrivers/datasauRus" class="uri">https://github.com/jumpingrivers/datasauRus</a><a href="collection-of-exercises.html#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="manage-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="write-with-r-markdown.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
